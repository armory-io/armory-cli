version: v1
kind: kubernetes
application: app
targets:
  test1:
    account: account1
    namespace: dev
    strategy: strategy1
  test2:
    account: account2
    namespace: qa
    strategy: strategy2
strategies:
  strategy1:
    canary:
      steps:
        - setWeight:
            weight: 50
        - pause:
            unit: SECONDS
            duration: 10
        - setWeight:
            weight: 100
  strategy2:
    canary:
      steps:
        - pause:
            unit: SECONDS
            duration: 10
        - setWeight:
            weight: 100
manifests:
  - path: testdata/testManifestBadObject.yaml
    targets: [ "test1" ]
  - path: testdata/testManifestConfigMap2.yaml
    targets: ["test2"]
